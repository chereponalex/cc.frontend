import{ap as _,cn as C,r as p,j as e,a5 as I}from"./index-DB17ow0B.js";import{C as d}from"./Tag-56vMD8vs.js";import{S as R}from"./Badge-CQXMuIXM.js";import"./SvgIcon-B3fC32px.js";import"./index-Bcac-H9A.js";import{B as f}from"./Button-CAjmaRgO.js";import{r as S}from"./Views-DXqaN0_h.js";import{I as k}from"./Input-DH-WCHZ2.js";import"./SegmentItemOption-CZ2PeNE8.js";import{F as M,a as T,b as x}from"./index.esm-B4uKY3iG.js";import{F as z,a as g}from"./Alert-ByogqZv3.js";import"./Upload-C9WU0jIo.js";import"./toast-D1G-7zs5.js";import"./index-BLURZrR2.js";import"./index-DNghyaU3.js";import"./ScrollBar-uf-ZekKR.js";import{m as E}from"./validationForm-B8HxzcOJ.js";import{T as L}from"./index-BB8TQc6p.js";import{u as B}from"./useTranslation-BAWqLgco.js";const ee=({data:i,isEdit:j=!1,onNextChange:a,isLoadingEndpoint:y})=>{const{t:r}=B(),h=_(),{data:t=null,isLoading:v}=C({per_page:"all"});console.log(t,"countries");const b=o=>{a==null||a(o)},F=p.useMemo(()=>({name:(i==null?void 0:i.name)||"",country_id:(i==null?void 0:i.country.id)||""}),[i]),l=p.useMemo(()=>t?t.data.map(o=>({label:o.name,value:o.id})):[],[t]);return e.jsx(I,{type:"cover",loading:!t&&v,children:e.jsx(M,{initialValues:F,enableReinitialize:!0,validationSchema:E,onSubmit:o=>b(o),children:({values:o,touched:m,errors:n})=>e.jsx(T,{children:e.jsxs(z,{children:[e.jsx(d,{children:e.jsx(g,{label:r("formInput.regions.region"),invalid:n.name&&m.name,errorMessage:n.name,layout:"horizontal",asterisk:!0,children:e.jsx(x,{type:"text",autoComplete:"off",name:"name",placeholder:"",component:k})})}),e.jsx(d,{children:e.jsx(g,{label:r("formInput.regions.country"),invalid:n.country_id&&m.country_id,errorMessage:n.country_id,layout:"horizontal",asterisk:!0,children:e.jsx(x,{name:"country_id",children:({field:u,form:c})=>e.jsx(R,{placeholder:"",field:u,form:c,options:l,value:l.filter(s=>s.value===o.country_id),onChange:s=>{s&&c.setFieldValue(u.name,s.value)}})})})}),e.jsxs("div",{className:"flex justify-end mt-4 gap-2",children:[e.jsx(f,{type:"button",onClick:()=>h(`${S.region}`),children:r("global.close")}),e.jsx(f,{loading:y,variant:"solid",type:"submit",children:r(j?"global.save":`${L.REGION}Page.buttons.createNew`)})]})]})})})})};export{ee as F};

import{ap as h,r as g,j as e,a5 as b}from"./index-DB17ow0B.js";import{C as k}from"./Tag-56vMD8vs.js";import"./Badge-CQXMuIXM.js";import"./SvgIcon-B3fC32px.js";import"./index-Bcac-H9A.js";import{B as c}from"./Button-CAjmaRgO.js";import{r as F}from"./Views-DXqaN0_h.js";import{I as m}from"./Input-DH-WCHZ2.js";import"./SegmentItemOption-CZ2PeNE8.js";import{F as d,a as I,b as a}from"./index.esm-B4uKY3iG.js";import{F as S,a as p}from"./Alert-ByogqZv3.js";import"./Upload-C9WU0jIo.js";import"./toast-D1G-7zs5.js";import"./index-BLURZrR2.js";import"./index-DNghyaU3.js";import"./ScrollBar-uf-ZekKR.js";import{t as T}from"./validationForm-B8HxzcOJ.js";import{T as C}from"./index-BB8TQc6p.js";import{u as z}from"./useTranslation-BAWqLgco.js";const U=({data:t,isEdit:f=!1,onNextChange:l,isLoadingEndpoint:x,duplicate:j})=>{const{t:r}=z(),v=h(),y=(i,s)=>{const o={};s===null&&Object.keys(i).forEach(n=>{i[n]!==u[n]&&(o[n]=i[n])}),l==null||l(s===null?o:i)},u=g.useMemo(()=>({name:(t==null?void 0:t.name)||"",key:(t==null?void 0:t.key)||"",value:(t==null?void 0:t.value)||""}),[t]);return e.jsx(b,{type:"cover",children:e.jsx(d,{initialValues:u,enableReinitialize:!0,validationSchema:T,onSubmit:i=>y(i,j),children:({values:i,touched:s,errors:o})=>e.jsx(I,{children:e.jsxs(S,{children:[e.jsxs(k,{children:[e.jsx(p,{label:r("formInput.settings.name"),invalid:o.name&&s.name,errorMessage:o.name,layout:"horizontal",asterisk:!0,children:e.jsx(a,{type:"text",autoComplete:"off",name:"name",placeholder:"Имя",component:m})}),e.jsx(p,{label:r("formInput.settings.key"),invalid:o.key&&s.key,errorMessage:o.key,layout:"horizontal",asterisk:!0,children:e.jsx(a,{type:"text",autoComplete:"off",name:"key",placeholder:"Ключ",component:m})}),e.jsx(p,{label:r("formInput.settings.value"),invalid:o.value&&s.value,errorMessage:o.value,layout:"horizontal",asterisk:!0,children:e.jsx(a,{type:"text",autoComplete:"off",name:"value",placeholder:"Значение",component:m})})]}),e.jsxs("div",{className:"flex justify-end mt-4 gap-2",children:[e.jsx(c,{type:"button",onClick:()=>v(`${F.setting}`),children:r("global.close")}),e.jsx(c,{loading:x,variant:"solid",type:"submit",children:r(f?"global.save":`${C.SETTING}Page.buttons.createNew`)})]})]})})})})};export{U as F};

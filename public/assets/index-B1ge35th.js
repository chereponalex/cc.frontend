import{ao as g,r,aT as j,aV as y,j as t,a5 as E}from"./index-DB17ow0B.js";import{C as P}from"./Tag-56vMD8vs.js";import"./Badge-CQXMuIXM.js";import"./SvgIcon-B3fC32px.js";import{B as d,n as C,o as N,p as M}from"./Button-CAjmaRgO.js";import"./index-Bcac-H9A.js";import"./Views-DXqaN0_h.js";import"./Input-DH-WCHZ2.js";import"./SegmentItemOption-CZ2PeNE8.js";import{a as p}from"./Upload-C9WU0jIo.js";import"./Alert-ByogqZv3.js";import{t as T,N as v}from"./toast-D1G-7zs5.js";import"./index-BLURZrR2.js";import"./index-DNghyaU3.js";import"./ScrollBar-uf-ZekKR.js";import{C as b}from"./CustomerInfoField-BURQt3f9.js";import{l as I}from"./lodash-DQ7WKbzm.js";import{T as w}from"./index-BB8TQc6p.js";import{F as B}from"./FormPaymentMethod-CVx26go1.js";import{m as S}from"./methodInsertBread-w8uOSFG5.js";import{u as D}from"./useTranslation-BAWqLgco.js";import"./_getPrototype-DDgEJK0I.js";import"./isNil-7Ucd_LkO.js";import"./useThemeClass-Cy78qOJM.js";import"./StatusIcon-CxWytq0a.js";import"./XCircleSvg-CNN8vk0Z.js";import"./index.esm-B4uKY3iG.js";import"./validationForm-B8HxzcOJ.js";const F=()=>{const{t:e}=D(),{id:m}=g(),[n,o]=r.useState(!1),x=new URLSearchParams(location.search).get("editPage"),{data:a,isLoading:l}=j(m),[h]=y(),c=(s,i)=>{T.push(t.jsx(v,{title:e(`toast.title.${s}`),type:s,children:i}))},f=r.useMemo(()=>a&&I.omit(a.data,["id","links"]),[a]),u=async s=>{try{await h({id:m,...s}).unwrap(),c(p.SUCCESS,e(`toast.message.${w.PAYMENT_METHOD}.update`)),o(!1)}catch(i){c(p.WARNING,i.message)}};return r.useEffect(()=>{x&&o(!0)},[]),t.jsxs(E,{loading:!a&&l,type:"cover",children:[S(document.getElementById("breadcrumbs"),a==null?void 0:a.data.name),t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"mb-8",children:t.jsxs("h3",{className:"mb-2",children:[e("paymentMethodPage.card.title")," ",a==null?void 0:a.data.name]})}),t.jsxs("div",{className:"my-4 flex justify-end flex-col xl:flex-row gap-2",children:[t.jsx(d,{shape:"circle",variant:"plain",size:"md",icon:n?t.jsx(C,{}):t.jsx(N,{}),onClick:()=>o(s=>!s)}),t.jsx(d,{shape:"circle",variant:"plain",size:"md",icon:t.jsx(M,{}),onClick:()=>{}})]}),n?t.jsx(B,{data:f,onNextChange:u,isLoadingEndpoint:l,isEdit:!0}):t.jsx(P,{children:t.jsx("div",{className:"flex flex-col xl:justify-between h-full 2xl:min-w-[360px] mx-auto",children:t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-1 gap-y-4 gap-x-4",children:t.jsx(b,{title:e("formInput.paymentMethods.name"),value:(a==null?void 0:a.data.name)||e("global.noDataAvailable")})})})})]})]})},lt=F;export{lt as default};
